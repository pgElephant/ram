# Replica 2 Node Configuration for RAM Cluster Management
# This is different from ramd.conf - it's for cluster.py script

[cluster]
name = ram_cluster
id = 1
total_nodes = 3

[node]
id = 3
name = replica2
role = standby
priority = 80

[network]
bind_address = 127.0.0.1
postgresql_host = 127.0.0.1
postgresql_port = 5434
http_api_port = 8010
ramd_port = 8002

[postgresql]
user = postgres
database = postgres
password = 
data_dir = /tmp/ram_cluster/replica2/pgdata
log_dir = /tmp/ram_cluster/replica2/logs
bin_dir = /usr/local/pgsql.17/bin
auth_method = trust

[replication]
streaming_enabled = true
synchronous_enabled = false
primary_host = 127.0.0.1
primary_port = 5432
replication_user = postgres
replication_slot = replica2_slot
recovery_target_timeline = latest

[failover]
auto_enabled = true
timeout_seconds = 30
primary_failure_timeout = 60
promotion_timeout = 120
candidate_priority = 80

[rale]
enabled = true
port = 7402
dstore_port = 7403
election_timeout = 5000
heartbeat_interval = 1000

[logging]
level = info
to_console = true
to_file = true
file_path = /tmp/ram_cluster/replica2/logs/cluster.log
rotation = true
max_size = 100MB

[monitoring]
health_check_interval = 5
metrics_enabled = true
prometheus_port = 9092

[paths]
work_dir = /tmp/ram_cluster/replica2
pid_file = /tmp/ram_cluster/replica2/cluster.pid
lock_file = /tmp/ram_cluster/replica2/cluster.lock
