# Primary Node Configuration for RAM Cluster Management
# This is different from ramd.conf - it's for cluster.py script

[cluster]
name = ram_cluster
id = 1
total_nodes = 3

[node]
id = 1
name = primary
role = primary
priority = 100

[network]
bind_address = 127.0.0.1
postgresql_host = 127.0.0.1
postgresql_port = 5432
http_api_port = 8008
ramd_port = 8000

[postgresql]
user = postgres
database = postgres
password = 
data_dir = /tmp/ram_cluster/primary/pgdata
log_dir = /tmp/ram_cluster/primary/logs
bin_dir = /usr/local/pgsql.17/bin
auth_method = trust

[replication]
streaming_enabled = true
synchronous_enabled = false
wal_level = replica
max_wal_senders = 10
wal_keep_size = 64MB

[failover]
auto_enabled = true
timeout_seconds = 30
primary_failure_timeout = 60
promotion_timeout = 120

[rale]
enabled = true
port = 7400
dstore_port = 7401
election_timeout = 5000
heartbeat_interval = 1000

[logging]
level = info
to_console = true
to_file = true
file_path = /tmp/ram_cluster/primary/logs/cluster.log
rotation = true
max_size = 100MB

[monitoring]
health_check_interval = 5
metrics_enabled = true
prometheus_port = 9090

[paths]
work_dir = /tmp/ram_cluster/primary
pid_file = /tmp/ram_cluster/primary/cluster.pid
lock_file = /tmp/ram_cluster/primary/cluster.lock
