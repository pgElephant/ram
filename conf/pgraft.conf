# PGRaft PostgreSQL Extension Configuration
# Copyright (c) 2024-2025, pgElephant, Inc.
#
# This is the comprehensive configuration file for PGRaft extension

# =============================================================================
# RAFT CONFIGURATION
# =============================================================================
# Raft node ID (must be unique in cluster)
# Values: Any positive integer
raft_node_id = 1

# Raft cluster ID
# Values: Any valid string without spaces
raft_cluster_id = ram_cluster

# Raft data directory
# Values: Valid filesystem path with write permissions
raft_data_dir = /tmp/pgraft_data

# Raft log level: debug, info, warn, error
# Values: debug, info, warn, error
raft_log_level = info

# Raft heartbeat interval in milliseconds
# Values: 100-10000
raft_heartbeat_interval_ms = 1000

# Raft election timeout in milliseconds
# Values: 1000-30000
raft_election_timeout_ms = 5000

# Raft snapshot interval in milliseconds
# Values: 10000-3600000
raft_snapshot_interval_ms = 30000

# Raft max snapshot count
# Values: 1-10
raft_max_snapshot_count = 3

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# Raft communication port
# Values: 1024-65535
raft_port = 7400

# Raft bind address
# Values: Valid IP address or 0.0.0.0
raft_bind_address = 0.0.0.0

# Raft advertise address
# Values: Valid hostname or IP address
raft_advertise_address = 

# Raft peer addresses (comma-separated)
# Values: Comma-separated list of host:port pairs
raft_peer_addresses = 

# =============================================================================
# POSTGRESQL INTEGRATION
# =============================================================================
# PostgreSQL shared memory key
# Values: Any positive integer
postgresql_shmem_key = 12345

# PostgreSQL shared memory size in bytes
# Values: 65536-1073741824
postgresql_shmem_size = 1048576

# Enable PostgreSQL integration
# Values: true, false
postgresql_integration_enabled = true

# PostgreSQL connection string
# Values: Valid PostgreSQL connection string
postgresql_connection_string = 

# =============================================================================
# LOGGING
# =============================================================================
# Enable debug logging
# Values: true, false
debug_logging_enabled = false

# Log to PostgreSQL log
# Values: true, false
log_to_postgresql = true

# Log to file
# Values: true, false
log_to_file = false

# Log file path
# Values: Valid filesystem path with write permissions
log_file = /tmp/pgraft.log

# Log rotation size in MB
# Values: 1-1024
log_rotation_size_mb = 100

# Number of log files to keep
# Values: 1-100
log_rotation_count = 5

# =============================================================================
# PERFORMANCE
# =============================================================================
# Raft batch size
# Values: 1-10000
raft_batch_size = 1000

# Raft max batch size
# Values: 1000-100000
raft_max_batch_size = 10000

# Raft max entry size in bytes
# Values: 1024-10485760
raft_max_entry_size = 1048576

# Raft max inflight messages
# Values: 1-1024
raft_max_inflight = 256

# =============================================================================
# SECURITY
# =============================================================================
# Enable authentication
# Values: true, false
authentication_enabled = false

# Authentication token
# Values: Empty string or valid authentication token
authentication_token = 

# Enable encryption
# Values: true, false
encryption_enabled = false

# Encryption key file
# Values: Valid filesystem path to key file
encryption_key_file = 

# =============================================================================
# MONITORING
# =============================================================================
# Enable metrics collection
# Values: true, false
metrics_enabled = true

# Metrics port
# Values: 1024-65535
metrics_port = 9091

# Metrics path
# Values: Valid URL path starting with /
metrics_path = /metrics

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================
# Raft read only option
# Values: true, false
raft_read_only = false

# Raft disable propose
# Values: true, false
raft_disable_propose = false

# Raft check quorum
# Values: true, false
raft_check_quorum = true

# Raft pre vote
# Values: true, false
raft_pre_vote = true

# Raft skip broadcast commit
# Values: true, false
raft_skip_broadcast_commit = false

# =============================================================================
# CLUSTER TOPOLOGY
# =============================================================================
# Node 1 configuration
# Values: Any positive integer
node_1_id = 1
# Values: Valid host:port combination
node_1_address = localhost:7400
# Values: leader, follower
node_1_role = leader

# Node 2 configuration
# Values: Any positive integer
node_2_id = 2
# Values: Valid host:port combination
node_2_address = localhost:7401
# Values: leader, follower
node_2_role = follower

# Node 3 configuration
# Values: Any positive integer
node_3_id = 3
# Values: Valid host:port combination
node_3_address = localhost:7402
# Values: leader, follower
node_3_role = follower

# =============================================================================
# DEVELOPMENT
# =============================================================================
# Enable development mode
# Values: true, false
development_mode = false

# Enable performance profiling
# Values: true, false
profiling_enabled = false

# Enable memory debugging
# Values: true, false
memory_debugging = false

# =============================================================================
# INTEGRATION
# =============================================================================
# Enable RAMD integration
# Values: true, false
ramd_integration_enabled = true

# RAMD server address
# Values: Valid host:port combination
ramd_server_address = localhost:8008

# RAMD authentication token
# Values: Empty string or valid authentication token
ramd_auth_token = 

# Enable RAMCTRL integration
# Values: true, false
ramctrl_integration_enabled = true

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================
# Custom configuration parameters (JSON format)
# Values: Valid JSON object
custom_config = {}

# Custom hooks
# Values: Valid JSON object
custom_hooks = {}

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Enable automatic snapshots
# Values: true, false
auto_snapshots_enabled = true

# Snapshot interval in seconds
# Values: 60-86400
snapshot_interval_seconds = 300

# Snapshot retention count
# Values: 1-100
snapshot_retention_count = 10

# Enable WAL archiving
# Values: true, false
wal_archiving_enabled = false

# WAL archive directory
# Values: Valid filesystem path with write permissions
wal_archive_directory = /tmp/pgraft_wal_archive

# =============================================================================
# FAILOVER
# =============================================================================
# Enable automatic failover
# Values: true, false
auto_failover_enabled = true

# Failover timeout in seconds
# Values: 10-300
failover_timeout_seconds = 30

# Recovery timeout in seconds
# Values: 60-3600
recovery_timeout_seconds = 300

# =============================================================================
# CONSENSUS
# =============================================================================
# Consensus algorithm: raft, paxos, pbft
# Values: raft, paxos, pbft
consensus_algorithm = raft

# Consensus timeout in milliseconds
# Values: 1000-30000
consensus_timeout_ms = 5000

# Consensus retry count
# Values: 1-10
consensus_retry_count = 3

# Consensus retry delay in milliseconds
# Values: 100-10000
consensus_retry_delay_ms = 1000
